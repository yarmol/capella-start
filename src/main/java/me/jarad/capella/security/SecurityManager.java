package me.jarad.capella.security;import com.vaadin.server.VaadinSession;import com.vaadin.ui.UI;import org.springframework.security.core.Authentication;import org.springframework.security.core.GrantedAuthority;import org.springframework.security.core.context.SecurityContextHolder;import java.util.Collection;/** * @author vyarmole on 10.04.17. */public class SecurityManager {  public VaadinSession getSession() {    return session;  }  private VaadinSession session;  private UI ui;  public SecurityManager() {    session = VaadinSession.getCurrent();    ui      = UI.getCurrent();  }  public void storeForSession(String key,Object value) {    session.setAttribute(key,value);  }  public Object getForSession(String key) {    return session.getAttribute(key);  }  public Collection<? extends GrantedAuthority> getAuthorities() {    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();    Collection<? extends GrantedAuthority> authorities  = authentication.getAuthorities();    return authorities;  }  public UI getUi() {    return ui;  }}